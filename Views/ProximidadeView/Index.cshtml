@{
    ViewData["Title"] = "Dashboard de Proximidade";
}

<link href="~/css/site.css" rel="stylesheet" />

<div class="container">
    <div class="header">
        <h1>游 Dashboard de Proximidade</h1>
        <p class="text-black">Sistema de an치lise de proximidade entre usu치rios e abrigos</p>
    </div>

    <div class="action-buttons">
        <button class="btn-primary" onclick="calcularProximidades()">游댃 Recalcular Proximidades</button>
        <button class="btn-secondary" onclick="recarregarDados()">游늵 Atualizar Dashboard</button>
        <button class="btn-secondary" onclick="exportarDados()">游닌 Exportar Dados</button>
    </div>

    <div class="stats" id="stats">
        <div class="stat-card">
            <h3 id="totalUsuarios">-</h3>
            <p>Total de Usu치rios</p>
        </div>
        <div class="stat-card">
            <h3 id="totalAbrigos">-</h3>
            <p>Total de Abrigos</p>
        </div>
        <div class="stat-card">
            <h3 id="usuariosComCoordenadas">-</h3>
            <p>Usu치rios Georreferenciados</p>
        </div>
        <div class="stat-card">
            <h3 id="totalCalculos">-</h3>
            <p>C치lculos de Proximidade</p>
        </div>
    </div>

    <div class="section">
        <div class="section-header">
            <h2 class="text-white">游논 Usu치rios e seus Endere칞os</h2>
            <button class="btn" onclick="recarregarDados()">游댃 Atualizar</button>
        </div>
        <div class="table-container">
            <div class="loading" id="loadingUsuarios">Carregando usu치rios...</div>
            <table id="tabelaUsuarios" style="display: none;">
                <thead>
                    <tr>
                        <th>Nome</th>
                        <th>Email</th>
                        <th>Telefone</th>
                        <th>CEP</th>
                        <th>Endere칞o</th>
                        <th>Coordenadas</th>
                    </tr>
                </thead>
                <tbody id="corpoTabelaUsuarios"></tbody>
            </table>
        </div>
    </div>

    <div class="section">
        <div class="section-header">
            <h2 class="text-white">游끽 Abrigos e seus Endere칞os</h2>
            <button class="btn" onclick="calcularProximidades()">游댃 Recalcular Proximidades</button>
        </div>
        <div class="table-container">
            <div class="loading" id="loadingAbrigos">Carregando abrigos...</div>
            <table id="tabelaAbrigos" style="display: none;">
                <thead>
                    <tr>
                        <th>ID Abrigo</th>
                        <th>CEP</th>
                        <th>Endere칞o</th>
                        <th>Capacidade</th>
                        <th>Ocupa칞칚o</th>
                        <th>Coordenadas</th>
                        <th>Status</th>
                    </tr>
                </thead>
                <tbody id="corpoTabelaAbrigos"></tbody>
            </table>
        </div>
    </div>

    <div class="section">
        <div class="section-header">
            <h2 class="text-white">游늸 An치lise de Proximidade</h2>
        </div>
        <div class="user-filter">
            <label for="filtroUsuario">Filtrar por usu치rio: </label>
            <select id="filtroUsuario" onchange="filtrarProximidade()">
                <option value="">Todos os usu치rios</option>
            </select>
        </div>
        <div class="table-container">
            <div class="loading" id="loadingProximidade">Calculando proximidades...</div>
            <table id="tabelaProximidade" style="display: none;">
                <thead>
                    <tr>
                        <th>Ranking</th>
                        <th>Usu치rio</th>
                        <th>Email</th>
                        <th>Endere칞o do Usu치rio</th>
                        <th>Endere칞o do Abrigo</th>
                        <th>Dist칙ncia (km)</th>
                    </tr>
                </thead>
                <tbody id="corpoTabelaProximidade"></tbody>
            </table>
        </div>
    </div>
</div>

<script src="~/js/site.js"></script>